<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Scheduler</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav class="no-print">
        <h1>Ultimate Scheduler</h1>
        <div class="tabs">
            <button onclick="switchTab('student')" class="active">Student View</button>
            <button onclick="switchTab('teacher')">Teacher View</button>
            <button onclick="switchTab('data')">Data Import</button>
        </div>
        <button onclick="window.print()" class="print-btn">Print Schedule</button>
    </nav>

    <!-- Student View -->
    <main id="student-view" class="view active">
        <div class="header-info">
            <h2>Weekly Class Schedule</h2>
            <p>Generated View</p>
        </div>
        <div class="calendar-container">
            <div class="calendar-header">
                <div>Time</div>
                <div>Monday</div>
                <div>Tuesday</div>
                <div>Wednesday</div>
                <div>Thursday</div>
                <div>Friday</div>
                <div>Saturday</div>
            </div>
            <div class="calendar-grid" id="student-grid">
                <!-- Grid items injected by JS -->
            </div>
        </div>
    </main>

    <!-- Teacher View -->
    <main id="teacher-view" class="view">
        <!-- Stats Dashboard (Visible in both Search and Schedule views) -->
        <div class="stats-dashboard no-print">
            <div class="stat-card">
                <h3>Teaching Hours</h3>
                <p id="stat-teaching">0.0</p>
                <small>Target: 24-32 hrs</small>
            </div>
            <div class="stat-card warning">
                <h3>Consultation Hours</h3>
                <p id="stat-consult">0.0</p>
                <small>Target: 6-8 hrs</small>
            </div>
            <div class="stat-card success">
                <h3>Total Load</h3>
                <p id="stat-total">0.0</p>
                <small>Target: 30-40 hrs</small>
            </div>
            <div class="stat-card">
                <h3>Status</h3>
                <p id="stat-status" style="font-size: 1rem;">Low Load</p>
                <small id="stat-msg">Need more hours</small>
            </div>
        </div>

        <div id="teacher-search-area">
            <h2>Teacher Preferences & Search</h2>

            <div class="controls no-print">
                <label>Filter by Day: <select id="teacher-day-filter"><option value="all">All Days</option></select></label>
                <label>Filter by Subject: <select id="teacher-subject-filter"><option value="all">All Subjects</option></select></label>
                <label><input type="checkbox" id="teacher-unassigned-filter"> Show Unassigned Only</label>
                <button class="primary" onclick="renderTeacherView()">Apply Filters</button>
                <button class="primary" onclick="viewTeacherSchedule()">View My Schedule</button>
            </div>
            <div id="teacher-results">
                <!-- List view injected by JS -->
            </div>
        </div>

        <div id="teacher-schedule-area" style="display: none;">
            <div class="header-info">
                <h2>My Selected Schedule</h2>
                <button onclick="backToTeacherSearch()" class="secondary no-print">Back to Search</button>
            </div>
            
            <div class="consultation-form no-print">
                <strong>Add Consultation Block:</strong>
                <select id="consult-day"><option value="Monday">Monday</option><option value="Tuesday">Tuesday</option><option value="Wednesday">Wednesday</option><option value="Thursday">Thursday</option><option value="Friday">Friday</option><option value="Saturday">Saturday</option></select>
                <input type="time" id="consult-start" value="13:00">
                <input type="time" id="consult-end" value="16:00">
                <button class="primary" onclick="addConsultation()">Add Block</button>
            </div>
            
            <div class="consultation-list no-print">
                <strong>Current Consultation Hours:</strong>
                <ul id="consult-list-ul"></ul>
            </div>

            <div class="calendar-container">
                <div class="calendar-header">
                    <div>Time</div>
                    <div>Monday</div>
                    <div>Tuesday</div>
                    <div>Wednesday</div>
                    <div>Thursday</div>
                    <div>Friday</div>
                    <div>Saturday</div>
                </div>
                <div class="calendar-grid" id="teacher-grid">
                    <!-- Grid items injected by JS -->
                </div>
            </div>
        </div>
    </main>

    <!-- Data Import -->
    <main id="data-view" class="view">
        <h2>Import Schedule Data</h2>
        <div class="import-container">
            <div class="import-box">
                <h3>Student Schedule</h3>
                <p>Paste specific student data here.</p>
                <textarea id="student-data-input" placeholder="Paste Student Excel data..."></textarea>
                <button class="primary" onclick="loadStudentData()">Load Student Data</button>
                <button class="secondary" onclick="loadStudentTemplate()">Download Template</button>
                <button class="secondary" onclick="loadSampleStudentData()">Load Sample Student Data</button>
            </div>
            <div class="import-box">
                <h3>Teacher Master List</h3>
                <p>Paste entire master schedule here.</p>
                <textarea id="teacher-data-input" placeholder="Paste Master Excel data..."></textarea>
                <button class="primary" onclick="loadTeacherData()">Load Master Data</button>
                <button class="secondary" onclick="loadTeacherTemplate()">Download Template</button>
                <button class="secondary" onclick="loadSampleData()">Load Sample Master Data</button>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
</body>
</html>
